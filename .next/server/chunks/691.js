exports.id=691,exports.ids=[691],exports.modules={2178:(e,t,r)=>{"use strict";r.d(t,{O:()=>d,n:()=>i});var a=r(997),s=r(6689);let n=(0,s.createContext)(void 0),o="nop-wallet-connection",l="nop-wallet-provider";function i({children:e}){let[t,i]=(0,s.useState)(null),[d,c]=(0,s.useState)(null),[f,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{},[]),(0,s.useEffect)(()=>{},[d,t]);let p=(0,s.useCallback)(async(e,t,a)=>{if(!f)try{if(u(!0),"email"===e){if(!t||!t.includes("@"))throw Error("Please enter a valid email address.");let e=`0x${t.split("@")[0].slice(0,8).padEnd(40,"0")}`;if(i(e),c("email"),localStorage.setItem(o,e),localStorage.setItem(l,"email"),localStorage.setItem("nop-wallet-email",t),a)try{let{getApiBase:t}=await Promise.resolve().then(r.bind(r,9546)),s=t();await fetch(`${s}/api/referral/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:e,referralCode:a.toUpperCase()})})}catch(e){console.error("Referral registration failed:",e)}return}let s=window.ethereum;if(!s)throw Error("No wallet provider found. Please install a wallet extension.");let n=await s.request({method:"eth_requestAccounts"});if(0===n.length)throw Error("No accounts found. Please unlock your wallet.");let d=n[0];if(i(d),c(e),localStorage.setItem(o,d),localStorage.setItem(l,e),a)try{let{getApiBase:e}=await Promise.resolve().then(r.bind(r,9546)),t=e();await fetch(`${t}/api/referral/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:d,referralCode:a.toUpperCase()})})}catch(e){console.error("Referral registration failed:",e)}}catch(e){throw console.error("Wallet connection error:",e),e}finally{u(!1)}},[f]),b=(0,s.useCallback)(()=>{i(null),c(null),localStorage.removeItem(o),localStorage.removeItem(l),localStorage.removeItem("nop-wallet-email")},[]),x=(0,s.useCallback)(async()=>{if(t)try{await navigator.clipboard.writeText(t)}catch(e){console.error("Failed to copy address:",e)}},[t]);return a.jsx(n.Provider,{value:{address:t,isConnected:!!t,provider:d,connect:p,disconnect:b,copyAddress:x},children:e})}function d(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useWallet must be used within a WalletProvider");return e}},9546:(e,t,r)=>{"use strict";function a(){let e="http://localhost:5000".trim();return e&&e.length?e:"http://localhost:5000"}r.d(t,{getApiBase:()=>a})},6764:()=>{},8691:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(997);r(6764);var s=r(2178),n=r(9816),o=r.n(n),l=r(6689),i=r(9546);function d(){let[e,t]=(0,l.useState)(!1),[r,s]=(0,l.useState)([{role:"assistant",content:"Merhaba! Kısa, net, kaynaklı yanıtlar i\xe7in hazırım."}]),[n,d]=(0,l.useState)(""),[c,f]=(0,l.useState)(!1),[u,p]=(0,l.useState)({btcDominance:"53,2%",marketCap:"$1,57T",volume24h:"$89 B"}),b=(0,l.useRef)(null),x=(0,l.useRef)(null);(0,l.useEffect)(()=>{e&&x.current&&setTimeout(()=>x.current?.focus(),100)},[e]),(0,l.useEffect)(()=>{b.current?.scrollIntoView({behavior:"smooth"})},[r]);let m=async()=>{if(!n.trim()||c)return;let e=n.trim();d(""),s(t=>[...t,{role:"user",content:e}]),f(!0);try{let t=await fetch(`${(0,i.getApiBase)()}/api/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:"Sen NOP Intelligence Layer platformunun AI asistanısın. Kısa, net, kaynaklı yanıtlar ver. Platform \xf6zellikleri: Twitter benzeri feed, NOP token c\xfczdanı, Boost Event, Trend kullanıcılar, Burn Counter, Admin paneli, Top Gainers, Referans sistemi, Stake/Unstake, Deposit/Withdraw (zkSync Era). NOP Token: 0x941Fc398d9FAebdd9f311011541045A1d66c748E."},...r,{role:"user",content:e}]})});if(!t.ok)throw Error("AI servisi yanıt veremedi");let a=await t.json();if(a.ok&&a.reply)s(e=>[...e,{role:"assistant",content:a.reply}]);else throw Error(a.error||"Yanıt alınamadı")}catch(e){s(e=>[...e,{role:"assistant",content:"\xdczg\xfcn\xfcm, şu anda yanıt veremiyorum. L\xfctfen daha sonra tekrar deneyin."}])}finally{f(!1)}};return(0,a.jsxs)(a.Fragment,{children:[!e&&a.jsx("button",{onClick:()=>t(!0),"aria-label":"Open NOP Assistant",style:{position:"fixed",bottom:24,right:24,width:56,height:56,borderRadius:"50%",background:"#C9A227",color:"#1E2328",border:"none",boxShadow:"0 4px 16px rgba(201, 162, 39, 0.4)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.1)",e.currentTarget.style.boxShadow="0 8px 24px rgba(201, 162, 39, 0.6)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 4px 16px rgba(201, 162, 39, 0.4)"},children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.3)",zIndex:9998},onClick:()=>t(!1),className:"jsx-db57f3bde46f5e"}),(0,a.jsxs)("div",{style:{position:"fixed",bottom:100,right:24,width:420,maxWidth:"calc(100vw - 48px)",height:600,maxHeight:"calc(100vh - 120px)",background:"#fff",borderRadius:16,boxShadow:"0 10px 40px rgba(0, 0, 0, 0.15)",zIndex:9999,display:"flex",flexDirection:"column",fontFamily:"system-ui, -apple-system, sans-serif"},onClick:e=>e.stopPropagation(),className:"jsx-db57f3bde46f5e",children:[(0,a.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fff",borderRadius:"16px 16px 0 0"},className:"jsx-db57f3bde46f5e",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},className:"jsx-db57f3bde46f5e",children:[a.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:"#C9A227",display:"flex",alignItems:"center",justifyContent:"center",fontSize:16,fontWeight:700,color:"#1E2328",flexShrink:0},className:"jsx-db57f3bde46f5e",children:"NOP"}),(0,a.jsxs)("div",{className:"jsx-db57f3bde46f5e",children:[a.jsx("div",{style:{fontWeight:700,fontSize:16,color:"#1E2328"},className:"jsx-db57f3bde46f5e",children:"NOP Assistant"}),(0,a.jsxs)("div",{style:{fontSize:11,color:"#666",display:"flex",gap:12,marginTop:2},className:"jsx-db57f3bde46f5e",children:[(0,a.jsxs)("span",{className:"jsx-db57f3bde46f5e",children:["BTC.D ",u.btcDominance]}),(0,a.jsxs)("span",{className:"jsx-db57f3bde46f5e",children:["MCap ",u.marketCap]}),(0,a.jsxs)("span",{className:"jsx-db57f3bde46f5e",children:["24h Vol ",u.volume24h]})]})]})]}),a.jsx("button",{onClick:()=>t(!1),"aria-label":"Close",style:{width:32,height:32,borderRadius:6,border:"none",background:"transparent",color:"#1E2328",fontSize:20,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(201, 162, 39, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},className:"jsx-db57f3bde46f5e",children:"\xd7"})]}),(0,a.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"20px",display:"flex",flexDirection:"column",gap:16,background:"#F8FAFC"},className:"jsx-db57f3bde46f5e",children:[r.map((e,t)=>a.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"user"===e.role?"flex-end":"flex-start"},className:"jsx-db57f3bde46f5e",children:a.jsx("div",{style:{padding:"12px 16px",borderRadius:"user"===e.role?"16px 16px 4px 16px":"16px 16px 16px 4px",maxWidth:"80%",background:"user"===e.role?"#C9A227":"#fff",color:"#1E2328",border:"assistant"===e.role?"1px solid #E5E7EB":"none",fontSize:14,lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word"},className:"jsx-db57f3bde46f5e",children:e.content})},t)),c&&(0,a.jsxs)("div",{style:{display:"flex",gap:6,paddingLeft:4},className:"jsx-db57f3bde46f5e",children:[a.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#C9A227",animation:"bounce 1.4s infinite ease-in-out"},className:"jsx-db57f3bde46f5e"}),a.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#C9A227",animation:"bounce 1.4s infinite ease-in-out",animationDelay:"0.2s"},className:"jsx-db57f3bde46f5e"}),a.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#C9A227",animation:"bounce 1.4s infinite ease-in-out",animationDelay:"0.4s"},className:"jsx-db57f3bde46f5e"})]}),a.jsx("div",{ref:b,className:"jsx-db57f3bde46f5e"})]}),1===r.length&&(0,a.jsxs)("div",{style:{padding:"12px 20px",borderTop:"1px solid #E5E7EB",display:"flex",gap:8,background:"#fff"},className:"jsx-db57f3bde46f5e",children:[a.jsx("button",{onClick:async()=>{let e="Dok\xfcmantasyonu g\xf6ster";s(t=>[...t,{role:"user",content:e}]),f(!0);try{let t=await fetch(`${(0,i.getApiBase)()}/api/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:"Sen NOP Intelligence Layer platformunun AI asistanısın. Kısa, net, kaynaklı yanıtlar ver."},...r,{role:"user",content:e}]})}),a=await t.json();a.ok&&a.reply&&s(e=>[...e,{role:"assistant",content:a.reply}])}catch(e){s(e=>[...e,{role:"assistant",content:"\xdczg\xfcn\xfcm, şu anda yanıt veremiyorum."}])}finally{f(!1)}},style:{flex:1,padding:"8px 16px",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:8,fontSize:13,fontWeight:600,color:"#1E2328",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#C9A227",e.currentTarget.style.borderColor="#C9A227"},onMouseLeave:e=>{e.currentTarget.style.background="#F8FAFC",e.currentTarget.style.borderColor="#E5E7EB"},className:"jsx-db57f3bde46f5e",children:"Docs"}),a.jsx("button",{onClick:async()=>{let e="NOP token fiyatını g\xf6ster";s(t=>[...t,{role:"user",content:e}]),f(!0);try{let t=await fetch(`${(0,i.getApiBase)()}/api/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:"Sen NOP Intelligence Layer platformunun AI asistanısın. Kısa, net, kaynaklı yanıtlar ver."},...r,{role:"user",content:e}]})}),a=await t.json();a.ok&&a.reply&&s(e=>[...e,{role:"assistant",content:a.reply}])}catch(e){s(e=>[...e,{role:"assistant",content:"\xdczg\xfcn\xfcm, şu anda yanıt veremiyorum."}])}finally{f(!1)}},style:{flex:1,padding:"8px 16px",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:8,fontSize:13,fontWeight:600,color:"#1E2328",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#C9A227",e.currentTarget.style.borderColor="#C9A227"},onMouseLeave:e=>{e.currentTarget.style.background="#F8FAFC",e.currentTarget.style.borderColor="#E5E7EB"},className:"jsx-db57f3bde46f5e",children:"Price"})]}),a.jsx("div",{style:{padding:"16px 20px",borderTop:"1px solid #E5E7EB",background:"#fff",borderRadius:"0 0 16px 16px"},className:"jsx-db57f3bde46f5e",children:(0,a.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},className:"jsx-db57f3bde46f5e",children:[a.jsx("input",{ref:x,type:"text",value:n,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},placeholder:"Sorunu yaz...",disabled:c,style:{flex:1,padding:"12px 16px",border:"1px solid #E5E7EB",borderRadius:12,fontSize:14,fontFamily:"inherit",outline:"none",background:"#F8FAFC",color:"#1E2328"},onFocus:e=>{e.currentTarget.style.borderColor="#C9A227",e.currentTarget.style.background="#fff"},onBlur:e=>{e.currentTarget.style.borderColor="#E5E7EB",e.currentTarget.style.background="#F8FAFC"},className:"jsx-db57f3bde46f5e"}),a.jsx("button",{onClick:m,disabled:c||!n.trim(),style:{padding:"12px 24px",background:c||!n.trim()?"#E5E7EB":"#C9A227",color:c||!n.trim()?"#999":"#1E2328",border:"none",borderRadius:12,fontSize:14,fontWeight:600,cursor:c||!n.trim()?"not-allowed":"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.disabled||(e.currentTarget.style.background="#B8921F")},onMouseLeave:e=>{e.currentTarget.disabled||(e.currentTarget.style.background="#C9A227")},className:"jsx-db57f3bde46f5e",children:"G\xf6nder"})]})})]}),a.jsx(o(),{id:"db57f3bde46f5e",children:"@-webkit-keyframes bounce{0%,80%,100%{-webkit-transform:scale(0);transform:scale(0);opacity:.5}40%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes bounce{0%,80%,100%{-moz-transform:scale(0);transform:scale(0);opacity:.5}40%{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes bounce{0%,80%,100%{-o-transform:scale(0);transform:scale(0);opacity:.5}40%{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes bounce{0%,80%,100%{-webkit-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);transform:scale(0);opacity:.5}40%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}"})]})]})}function c({Component:e,pageProps:t}){return(0,a.jsxs)(s.n,{children:[a.jsx(e,{...t}),a.jsx(d,{})]})}}};