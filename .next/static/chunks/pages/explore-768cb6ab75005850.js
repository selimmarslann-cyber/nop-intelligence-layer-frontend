(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{4186:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/explore",function(){return n(4517)}])},4517:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return v},default:function(){return A}});var a=n(5893),r=n(1163),o=n(7294),s=n(7489),l=n(3118),i=n(8766),d=n(6903),c=n(1664),h=n.n(c),u=n(6179),g=n(4190);function p(e){let{user:t,rank:n}=e,{address:r}=(0,g.O)(),[s,l]=(0,o.useState)("");(0,o.useEffect)(()=>{let e=new Date(t.createdAt),n=new Date().getTime()-e.getTime(),a=Math.floor(n/864e5),r=Math.floor(a/30),o=Math.floor(a/365);o>0?l("".concat(o,"y")):r>0?l("".concat(r,"mo")):a>0?l("".concat(a,"d")):l("".concat(Math.floor(n/36e5),"h"))},[t.createdAt]);let i=e=>{let t=parseFloat(e);return t>=1e6?"".concat((t/1e6).toFixed(1),"M"):t>=1e3?"".concat((t/1e3).toFixed(1),"K"):t.toLocaleString("tr-TR",{maximumFractionDigits:0})},d=t.name||t.handle||"User ".concat(t.id),c=t.handle||"".concat(t.address.slice(0,6),"...").concat(t.address.slice(-4)),p=d.charAt(0).toUpperCase();return(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,padding:"16px 0",borderBottom:"1px solid #E5E7EB",transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#F8FAFC"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:[(0,a.jsx)(h(),{href:"/profile/".concat(t.handle||t.address),children:(0,a.jsx)("div",{style:{width:56,height:56,borderRadius:"50%",background:"linear-gradient(135deg, #C9A227 0%, #B8921F 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#1E2328",fontWeight:700,fontSize:20,flexShrink:0,border:"2px solid #fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",cursor:"pointer"},children:t.avatar?(0,a.jsx)("img",{src:t.avatar,alt:d,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):p})}),(0,a.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[(0,a.jsx)(h(),{href:"/profile/".concat(t.handle||t.address),style:{textDecoration:"none",color:"#1E2328",fontWeight:600,fontSize:16},children:d}),void 0!==n&&n<3&&(0,a.jsx)("span",{style:{fontSize:16},children:0===n?"\uD83E\uDD47":1===n?"\uD83E\uDD48":"\uD83E\uDD49"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,flexWrap:"wrap"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4},children:[(0,a.jsx)("span",{style:{fontSize:12,color:"#666",fontWeight:600},children:"ATH"}),(0,a.jsxs)("span",{style:{fontSize:14,color:"#1E2328",fontWeight:600},children:[i(t.balance)," NOP"]}),(0,a.jsx)("div",{style:{width:40,height:4,background:"#E5E7EB",borderRadius:2,overflow:"hidden"},children:(0,a.jsx)("div",{style:{width:"75%",height:"100%",background:"linear-gradient(90deg, #C9A227 0%, #B8921F 100%)"}})})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4},children:[(0,a.jsx)("span",{style:{fontSize:14,color:"#00AA00"},children:"↑"}),(0,a.jsxs)("span",{style:{fontSize:14,color:"#1E2328",fontWeight:600},children:[t.score.toLocaleString("tr-TR")," Skor"]})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4},children:[(0,a.jsx)("span",{style:{fontSize:12,color:"#666"},children:"\uD83D\uDD50"}),(0,a.jsxs)("span",{style:{fontSize:14,color:"#666"},children:[i(t.balance)," NOP"]})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4},children:[(0,a.jsx)("span",{style:{fontSize:12,color:"#666"},children:"\uD83D\uDC65"}),(0,a.jsx)("span",{style:{fontSize:14,color:"#1E2328",fontWeight:600},children:t.followerCount.toLocaleString("tr-TR")})]}),(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",gap:4},children:(0,a.jsx)("span",{style:{fontSize:12,color:"#666"},children:s})})]})]}),(0,a.jsx)("div",{style:{flexShrink:0},children:r&&r.toLowerCase()!==t.address.toLowerCase()&&(0,a.jsx)(u.Z,{targetAddress:t.address,targetName:d,targetHandle:c,currentUserAddress:r})})]})}var x=n(2138),f=n(3052),y=n(3454);let w=y.env.NEXT_PUBLIC_SANITY_PROJECT_ID,S=y.env.NEXT_PUBLIC_SANITY_DATASET||"production",m=y.env.SANITY_TOKEN,b=null;async function j(e,t){let n=w?(b||(b=(0,f.eI)({projectId:w,dataset:S,token:m,apiVersion:"2023-12-01",useCdn:!1})),b):null;if(!n)return console.warn("Sanity client not configured, returning empty array"),[];try{if(t)return await n.fetch(e,t);return await n.fetch(e)}catch(e){throw console.error("❌ GROQ fetch error →",e),e}}async function D(e){let{q:t="",tag:n=""}=e;try{let e='*[_type == "post"',a=[];return t&&a.push('(title match "*'.concat(t,'*" || body match "*').concat(t,'*")')),n&&a.push('"'.concat(n,'" in tags')),a.length>0&&(e+=" && (".concat(a.join(" && "),")")),e+="] | order(_createdAt desc) [0...20]",await j(e)||[]}catch(e){return console.error("Search posts error:",e),[]}}var v=!0;function A(e){let{initialList:t,initialQuery:n,initialTag:c}=e,h=(0,r.useRouter)(),[u,g]=(0,o.useState)(n),[f,y]=(0,o.useState)(c),[w,S]=(0,o.useState)(t),[m,b]=(0,o.useState)([]),[j,v]=(0,o.useState)(!1),[A,C]=(0,o.useState)("creators");return(0,o.useEffect)(()=>{"creators"===A&&async function(){v(!0);try{let e=await fetch("".concat((0,x.getApiBase)(),"/api/explore/users?limit=20"));if(e.ok){let t=await e.json();t.ok&&t.users&&t.users.length>0?b(t.users):b([{id:1,address:"0x1234567890123456789012345678901234567890",score:1250,balance:"1500000",followerCount:245,createdAt:new Date(Date.now()-7776e6).toISOString(),handle:"aegean",name:"Aegean"},{id:2,address:"0x2345678901234567890123456789012345678901",score:1180,balance:"1200000",followerCount:198,createdAt:new Date(Date.now()-10368e6).toISOString(),handle:"sarahwong",name:"Sarah Wong"},{id:3,address:"0x3456789012345678901234567890123456789012",score:1050,balance:"980000",followerCount:156,createdAt:new Date(Date.now()-5184e6).toISOString(),handle:"altinoran",name:"Altın Oran"},{id:4,address:"0x4567890123456789012345678901234567890123",score:920,balance:"850000",followerCount:134,createdAt:new Date(Date.now()-3888e6).toISOString(),handle:"crypto_dev",name:"Crypto Dev"},{id:5,address:"0x5678901234567890123456789012345678901234",score:880,balance:"720000",followerCount:112,createdAt:new Date(Date.now()-2592e6).toISOString(),handle:"blockchain_ai",name:"Blockchain AI"},{id:6,address:"0x6789012345678901234567890123456789012345",score:750,balance:"650000",followerCount:98,createdAt:new Date(Date.now()-648e7).toISOString(),handle:"web3builder",name:"Web3 Builder"},{id:7,address:"0x7890123456789012345678901234567890123456",score:680,balance:"580000",followerCount:87,createdAt:new Date(Date.now()-432e7).toISOString(),handle:"defi_master",name:"DeFi Master"},{id:8,address:"0x8901234567890123456789012345678901234567",score:620,balance:"520000",followerCount:76,createdAt:new Date(Date.now()-216e7).toISOString(),handle:"nft_creator",name:"NFT Creator"},{id:9,address:"0x9012345678901234567890123456789012345678",score:580,balance:"480000",followerCount:65,createdAt:new Date(Date.now()-864e7).toISOString(),handle:"zk_researcher",name:"ZK Researcher"},{id:10,address:"0xa012345678901234567890123456789012345678",score:540,balance:"420000",followerCount:54,createdAt:new Date(Date.now()-1296e6).toISOString(),handle:"dao_governor",name:"DAO Governor"}])}}catch(e){console.error("Users fetch error:",e),b([{id:1,address:"0x1234567890123456789012345678901234567890",score:1250,balance:"1500000",followerCount:245,createdAt:new Date(Date.now()-7776e6).toISOString(),handle:"aegean",name:"Aegean"},{id:2,address:"0x2345678901234567890123456789012345678901",score:1180,balance:"1200000",followerCount:198,createdAt:new Date(Date.now()-10368e6).toISOString(),handle:"sarahwong",name:"Sarah Wong"},{id:3,address:"0x3456789012345678901234567890123456789012",score:1050,balance:"980000",followerCount:156,createdAt:new Date(Date.now()-5184e6).toISOString(),handle:"altinoran",name:"Altın Oran"},{id:4,address:"0x4567890123456789012345678901234567890123",score:920,balance:"850000",followerCount:134,createdAt:new Date(Date.now()-3888e6).toISOString(),handle:"crypto_dev",name:"Crypto Dev"},{id:5,address:"0x5678901234567890123456789012345678901234",score:880,balance:"720000",followerCount:112,createdAt:new Date(Date.now()-2592e6).toISOString(),handle:"blockchain_ai",name:"Blockchain AI"}])}finally{v(!1)}}()},[A]),(0,o.useEffect)(()=>{let e=async e=>{var t,n;let a=new URLSearchParams(e.split("?")[1]||""),r=null!==(t=a.get("q"))&&void 0!==t?t:"",o=null!==(n=a.get("tag"))&&void 0!==n?n:"";g(r),y(o),S(await D({q:r,tag:o}))};return h.events.on("routeChangeComplete",e),()=>h.events.off("routeChangeComplete",e)},[h.events]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{}),(0,a.jsx)("main",{className:"container",style:{padding:"16px 0"},children:(0,a.jsxs)("div",{className:"grid",children:[(0,a.jsx)(l.Z,{active:"explore"}),(0,a.jsxs)("section",{style:{display:"flex",flexDirection:"column",gap:16},children:[(0,a.jsxs)("div",{className:"card",style:{padding:16},children:[(0,a.jsx)("h1",{style:{margin:"0 0 16px 0",fontSize:24,fontWeight:700,color:"#1E2328"},children:"Keşfet"}),(u||f)&&(0,a.jsxs)("div",{style:{marginBottom:16,padding:12,background:"#F8FAFC",borderRadius:8,fontSize:14},children:[(0,a.jsx)("strong",{children:"Arama:"})," ",u&&(0,a.jsxs)("span",{style:{color:"#C9A227"},children:['"',u,'"']}),f&&(0,a.jsxs)("span",{style:{color:"#C9A227",marginLeft:8},children:["#",f]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:16},children:[(0,a.jsx)("button",{onClick:()=>C("creators"),style:{padding:"8px 16px",background:"creators"===A?"#1E2328":"transparent",color:"creators"===A?"#F8FAFC":"#1E2328",border:"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s",textDecoration:"creators"===A?"underline":"none"},children:"Kullanıcılar"}),(0,a.jsx)("button",{onClick:()=>C("posts"),style:{padding:"8px 16px",background:"posts"===A?"#1E2328":"transparent",color:"posts"===A?"#F8FAFC":"#1E2328",border:"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s",textDecoration:"posts"===A?"underline":"none"},children:"G\xf6nderiler"})]})]}),"creators"===A&&(0,a.jsxs)("div",{className:"card",style:{padding:16},children:[(0,a.jsx)("h2",{style:{margin:"0 0 16px 0",fontSize:18,fontWeight:700,color:"#1E2328"},children:"En \xc7ok Takip Edilenler"}),j&&(0,a.jsx)("div",{style:{padding:40,textAlign:"center",color:"#666"},children:"Y\xfckleniyor..."}),!j&&0===m.length&&(0,a.jsx)("div",{style:{padding:40,textAlign:"center",color:"#666"},children:"Hen\xfcz kullanıcı bulunamadı."}),!j&&m.length>0&&(0,a.jsx)("div",{children:m.map((e,t)=>(0,a.jsx)(p,{user:e,rank:t},e.id))})]}),"posts"===A&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"card",style:{padding:12},children:(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h.push("/explore?q=".concat(encodeURIComponent(u),"&tag=").concat(encodeURIComponent(f)))},style:{display:"flex",gap:8},children:[(0,a.jsx)("input",{value:u,onChange:e=>g(e.target.value),placeholder:"Ara",style:{flex:1,height:40,padding:"0 12px",border:"1px solid var(--border)",borderRadius:10}}),(0,a.jsx)("input",{value:f,onChange:e=>y(e.target.value),placeholder:"Tag (\xf6rn: AI)",style:{width:200,height:40,padding:"0 12px",border:"1px solid var(--border)",borderRadius:10}}),(0,a.jsx)("button",{className:"btn btn-blue",children:"Filtrele"})]})}),0===w.length?(0,a.jsx)("div",{className:"card",style:{padding:16},children:"Sonu\xe7 bulunamadı."}):w.map(e=>(0,a.jsx)(d.Z,{post:e},e.id))]})]}),(0,a.jsx)(i.Z,{})]})})]})}}},function(e){e.O(0,[424,58,66,52,261,594,176,888,774,179],function(){return e(e.s=4186)}),_N_E=e.O()}]);