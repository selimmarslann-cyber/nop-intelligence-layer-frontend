(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[213],{1204:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/health",function(){return t(7514)}])},7134:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(5893),a=t(7294),l=t(1163),s=t(1664),r=t.n(s);let o=t(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:5000";function d(e){let{children:n}=e,t=(0,l.useRouter)(),[s,r]=(0,a.useState)(""),[d,u]=(0,a.useState)(!0),[h,f]=(0,a.useState)(!1);async function p(){try{let e=await fetch("".concat(o,"/api/admin/me"),{credentials:"include"});if(e.ok){let n=await e.json();r(n.email)}else t.push("/admin/login")}catch(e){t.push("/admin/login")}}async function x(){try{await fetch("".concat(o,"/api/admin/logout"),{method:"POST",credentials:"include"}),t.push("/admin/login")}catch(e){t.push("/admin/login")}}(0,a.useEffect)(()=>{f(!0),p()},[]);let g=t.pathname;return(0,i.jsxs)("div",{style:{minHeight:"100vh",background:"#1E2328",display:"flex"},children:[(0,i.jsx)("aside",{style:{width:d?240:0,background:"rgba(248, 250, 252, 0.05)",backdropFilter:"blur(10px)",borderRight:"1px solid rgba(229, 231, 235, 0.1)",transition:"width 0.3s",overflow:"hidden",position:"fixed",height:"100vh",zIndex:100},children:(0,i.jsxs)("div",{style:{padding:20},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:32},children:[(0,i.jsx)("div",{style:{width:40,height:40,borderRadius:8,background:"linear-gradient(135deg, #C9A227 0%, #B8921F 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,fontWeight:700,color:"#1E2328"},children:"NOP"}),d&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontSize:14,fontWeight:700,color:"#F8FAFC"},children:"Admin Panel"}),(0,i.jsx)("div",{style:{fontSize:11,color:"#999"},children:"Intelligence Layer"})]})]}),d&&(0,i.jsxs)("nav",{style:{display:"flex",flexDirection:"column",gap:4},children:[(0,i.jsx)(c,{href:"/admin",label:"Dashboard",icon:"\uD83D\uDCCA",active:"/admin"===g}),(0,i.jsx)(c,{href:"/admin/users",label:"Users",icon:"\uD83D\uDC65",active:"/admin/users"===g}),(0,i.jsx)(c,{href:"/admin/contributions",label:"Contributions",icon:"\uD83D\uDCDD",active:"/admin/contributions"===g}),(0,i.jsx)(c,{href:"/admin/withdraws",label:"Withdraws",icon:"\uD83D\uDCB0",active:"/admin/withdraws"===g}),(0,i.jsx)(c,{href:"/admin/burns",label:"Burn Counter",icon:"\uD83D\uDD25",active:"/admin/burns"===g}),(0,i.jsx)(c,{href:"/admin/events",label:"Boosted Events",icon:"⚡",active:"/admin/events"===g}),(0,i.jsx)(c,{href:"/admin/health",label:"System Health",icon:"\uD83D\uDC9A",active:"/admin/health"===g}),(0,i.jsx)(c,{href:"/admin/ai-monitor",label:"AI Monitor",icon:"\uD83E\uDD16",active:"/admin/ai-monitor"===g})]})]})}),(0,i.jsxs)("div",{style:{flex:1,marginLeft:d?240:0,transition:"margin-left 0.3s",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("header",{style:{background:"rgba(248, 250, 252, 0.05)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(229, 231, 235, 0.1)",padding:"12px 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)("button",{onClick:()=>u(!d),style:{padding:"8px",background:"transparent",border:"1px solid rgba(229, 231, 235, 0.2)",borderRadius:6,color:"#F8FAFC",cursor:"pointer",fontSize:18},children:"☰"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,i.jsx)("span",{style:{fontSize:13,color:"#999"},children:h&&s||"Loading..."}),(0,i.jsx)("button",{onClick:x,style:{padding:"8px 16px",background:"#C9A227",color:"#1E2328",border:"none",borderRadius:6,fontSize:13,fontWeight:600,cursor:"pointer"},children:"Logout"})]})]}),(0,i.jsx)("main",{style:{flex:1,background:"#F8FAFC",overflow:"auto"},children:n})]})]})}function c(e){let{href:n,label:t,icon:a,active:l}=e;return(0,i.jsxs)(r(),{href:n,style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",borderRadius:8,background:l?"rgba(201, 162, 39, 0.2)":"transparent",color:l?"#C9A227":"#F8FAFC",textDecoration:"none",fontSize:14,fontWeight:l?600:400,transition:"all 0.2s"},onMouseEnter:e=>{l||(e.currentTarget.style.background="rgba(201, 162, 39, 0.1)")},onMouseLeave:e=>{l||(e.currentTarget.style.background="transparent")},children:[(0,i.jsx)("span",{children:a}),(0,i.jsx)("span",{children:t})]})}},7514:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var i=t(5893),a=t(7294),l=t(1163),s=t(7134);let r=t(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:5000";function o(){let e=(0,l.useRouter)(),[n,t]=(0,a.useState)(null),[o,u]=(0,a.useState)(null),[h,f]=(0,a.useState)(!0);async function p(){try{(await fetch("".concat(r,"/api/admin/me"),{credentials:"include"})).ok||e.push("/admin/login")}catch(n){e.push("/admin/login")}}async function x(){try{let e=await fetch("".concat(r,"/api/ai/health"),{credentials:"include"});if(e.ok){let n=await e.json();t(n)}let n=await fetch("".concat(r,"/health"),{credentials:"include"});if(n.ok){let e=await n.json();u({backend:"ok"===e.status?"Healthy":"Unhealthy",timestamp:new Date().toISOString()})}}catch(e){console.error("Failed to load health:",e)}finally{f(!1)}}return(0,a.useEffect)(()=>{p(),x();let e=setInterval(x,3e5);return()=>clearInterval(e)},[]),(0,i.jsx)(s.Z,{children:(0,i.jsxs)("div",{style:{padding:24},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[(0,i.jsx)("h1",{style:{margin:0,fontSize:28,fontWeight:700,color:"#1E2328"},children:"System Health & AI Monitor"}),(0,i.jsx)("button",{onClick:x,style:c,children:"↻ Refresh"})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16},children:[(0,i.jsxs)("div",{style:{background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:8,padding:20},children:[(0,i.jsx)("h2",{style:{margin:"0 0 16px 0",fontSize:18,fontWeight:600,color:"#1E2328"},children:"AI Health (OpenRouter)"}),h?(0,i.jsx)("div",{style:{color:"#666"},children:"Checking..."}):n?(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[(0,i.jsx)(d,{label:"Status",value:n.status,isGood:"healthy"===n.status}),(0,i.jsx)(d,{label:"Model",value:n.model||"N/A"}),(0,i.jsx)(d,{label:"Response",value:n.responseReceived?"✓ Received":"✗ No response",isGood:n.responseReceived}),n.error&&(0,i.jsxs)("div",{style:{padding:8,background:"#FFE5E5",borderRadius:4,fontSize:12,color:"#FF0000"},children:["Error: ",n.error]})]}):(0,i.jsx)("div",{style:{color:"#FF0000"},children:"Failed to check AI health"})]}),(0,i.jsxs)("div",{style:{background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:8,padding:20},children:[(0,i.jsx)("h2",{style:{margin:"0 0 16px 0",fontSize:18,fontWeight:600,color:"#1E2328"},children:"System Info"}),o?(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[(0,i.jsx)(d,{label:"Backend",value:o.backend,isGood:"Healthy"===o.backend}),(0,i.jsx)(d,{label:"Last Check",value:new Date(o.timestamp).toLocaleString()})]}):(0,i.jsx)("div",{style:{color:"#666"},children:"Loading..."})]})]})]})})}function d(e){let{label:n,value:t,isGood:a}=e;return(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsxs)("span",{style:{fontSize:13,color:"#666"},children:[n,":"]}),(0,i.jsx)("span",{style:{fontSize:13,fontWeight:600,color:a?"#00AA00":!1===a?"#FF0000":"#1E2328"},children:t})]})}let c={padding:"10px 20px",background:"#C9A227",color:"#1E2328",border:"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:"pointer"}}},function(e){e.O(0,[424,888,774,179],function(){return e(e.s=1204)}),_N_E=e.O()}]);