"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{6179:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(5893),o=r(7294),a=r(2138);function l(e){let{isOpen:t,onClose:r,onConfirm:a,targetName:l,targetHandle:i,cost:s,currentBalance:c}=e,d=(0,o.useRef)(null);if((0,o.useEffect)(()=>{if(!t)return;let e=e=>{"Escape"===e.key&&r()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,r]),(0,o.useEffect)(()=>{if(!t||!d.current)return;let e=d.current,r=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=r[0],o=r[r.length-1],a=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),null==o||o.focus()):document.activeElement===o&&(e.preventDefault(),null==n||n.focus()))};return e.addEventListener("keydown",a),()=>e.removeEventListener("keydown",a)},[t]),(0,o.useEffect)(()=>{if(t&&d.current){let e=d.current.querySelector("button");setTimeout(()=>null==e?void 0:e.focus(),100)}},[t]),!t)return null;let u=c>=s,g=s.toLocaleString("tr-TR"),b=c.toLocaleString("tr-TR");return(0,n.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,pointerEvents:"none"},children:[(0,n.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",pointerEvents:"auto"},onClick:r,"aria-hidden":"true"}),(0,n.jsxs)("div",{ref:d,role:"dialog","aria-modal":"true","aria-labelledby":"follow-modal-title",style:{position:"relative",width:"90%",maxWidth:480,background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:8,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",zIndex:10001,padding:24,margin:0,boxSizing:"border-box",pointerEvents:"auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[(0,n.jsx)("h2",{id:"follow-modal-title",style:{margin:0,fontSize:20,fontWeight:700,color:"#1E2328"},children:"Takip Et"}),(0,n.jsx)("button",{onClick:r,"aria-label":"Close",style:{width:32,height:32,borderRadius:6,border:"none",background:"transparent",color:"#1E2328",fontSize:20,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",outline:"none"},onFocus:e=>{e.currentTarget.style.outline="2px solid #C9A227",e.currentTarget.style.outlineOffset="2px",e.currentTarget.style.background="rgba(201, 162, 39, 0.1)"},onBlur:e=>{e.currentTarget.style.outline="none",e.currentTarget.style.background="transparent"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(201, 162, 39, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:"\xd7"})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsxs)("p",{style:{margin:"0 0 12px 0",fontSize:16,color:"#1E2328",lineHeight:1.5},children:[(0,n.jsxs)("strong",{children:["@",i]})," kullanıcısını takip etmek i\xe7in"," ",(0,n.jsxs)("strong",{style:{color:"#C9A227"},children:[g," NOP"]})," \xf6demeniz gerekiyor."]}),(0,n.jsxs)("p",{style:{margin:0,fontSize:14,color:"#666",lineHeight:1.5},children:["Mevcut bakiyeniz: ",(0,n.jsxs)("strong",{children:[b," NOP"]})]})]}),!u&&(0,n.jsxs)("div",{style:{padding:12,background:"#FFE5E5",border:"1px solid #FF9999",borderRadius:6,marginBottom:20,fontSize:13,color:"#CC0000"},children:["⚠️ Yetersiz bakiye! Takip etmek i\xe7in en az ",g," NOP gerekiyor."]}),(0,n.jsxs)("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[(0,n.jsx)("button",{onClick:r,style:{padding:"10px 20px",background:"#F8FAFC",color:"#1E2328",border:"1px solid #E5E7EB",borderRadius:8,fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s",outline:"none"},onFocus:e=>{e.currentTarget.style.outline="2px solid #C9A227",e.currentTarget.style.outlineOffset="2px",e.currentTarget.style.borderColor="#C9A227"},onBlur:e=>{e.currentTarget.style.outline="none",e.currentTarget.style.borderColor="#E5E7EB"},onMouseEnter:e=>{e.currentTarget.style.background="#F0F4F8",e.currentTarget.style.borderColor="#C9A227"},onMouseLeave:e=>{e.currentTarget.style.background="#F8FAFC",e.currentTarget.style.borderColor="#E5E7EB"},children:"İptal"}),(0,n.jsx)("button",{onClick:a,disabled:!u,style:{padding:"10px 20px",background:u?"#C9A227":"#B8921F",color:"#1E2328",border:"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:u?"pointer":"not-allowed",transition:"all 0.2s",outline:"none",opacity:u?1:.6},onFocus:e=>{e.currentTarget.disabled||(e.currentTarget.style.outline="2px solid #C9A227",e.currentTarget.style.outlineOffset="2px",e.currentTarget.style.boxShadow="0 4px 8px rgba(201, 162, 39, 0.3)")},onBlur:e=>{e.currentTarget.style.outline="none",e.currentTarget.style.boxShadow="none"},onMouseEnter:e=>{e.currentTarget.disabled||(e.currentTarget.style.background="#B8921F",e.currentTarget.style.boxShadow="0 4px 8px rgba(201, 162, 39, 0.3)")},onMouseLeave:e=>{e.currentTarget.disabled||(e.currentTarget.style.background="#C9A227",e.currentTarget.style.boxShadow="none")},children:"Eminim, Takip Et"})]})]})]})}function i(e){let{targetAddress:t,targetName:r="",targetHandle:i="",currentUserAddress:s,onFollowChange:c}=e,[d,u]=(0,o.useState)(!1),[g,b]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1),[h,y]=(0,o.useState)(0),[x,m]=(0,o.useState)(!0);(0,o.useEffect)(()=>{if(!s||!t){m(!1);return}(async function(){try{let e=await fetch("".concat((0,a.getApiBase)(),"/api/follow/status/").concat(t,"?followerAddress=").concat(s));if(e.ok){let t=await e.json();u(t.following||!1)}}catch(e){console.error("Follow status check error:",e)}finally{m(!1)}})()},[s,t]),(0,o.useEffect)(()=>{s&&e();async function e(){try{let e=await fetch("".concat((0,a.getApiBase)(),"/api/users/").concat(s,"/summary"));if(e.ok){let t=await e.json();y(parseInt(t.balance||"0",10))}}catch(e){console.error("Balance fetch error:",e)}}},[s]);let k=async()=>{if(s){b(!0);try{let e=await fetch("".concat((0,a.getApiBase)(),"/api/follow/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({followerAddress:s})}),r=await e.json();r.ok?(u(!0),p(!1),y(parseInt(r.newBalance||"0",10)),null==c||c(!0)):alert(r.error||"Takip işlemi başarısız")}catch(e){console.error("Follow error:",e),alert("Takip işlemi sırasında bir hata oluştu")}finally{b(!1)}}},T=async()=>{if(s){b(!0);try{let e=await fetch("".concat((0,a.getApiBase)(),"/api/unfollow/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({followerAddress:s})}),r=await e.json();r.ok?(u(!1),null==c||c(!1)):alert(r.error||"Takibi bırakma işlemi başarısız")}catch(e){console.error("Unfollow error:",e),alert("Takibi bırakma işlemi sırasında bir hata oluştu")}finally{b(!1)}}};return s?x?(0,n.jsx)("button",{disabled:!0,style:{padding:"8px 16px",background:"#E5E7EB",color:"#666",border:"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:"not-allowed"},children:"Y\xfckleniyor..."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>{d?T():p(!0)},disabled:g,style:{padding:"8px 16px",background:d?"#F8FAFC":"#C9A227",color:"#1E2328",border:d?"1px solid #E5E7EB":"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:g?"not-allowed":"pointer",transition:"all 0.2s",outline:"none"},onFocus:e=>{e.currentTarget.disabled||(e.currentTarget.style.outline="2px solid #C9A227",e.currentTarget.style.outlineOffset="2px")},onBlur:e=>{e.currentTarget.style.outline="none"},onMouseEnter:e=>{e.currentTarget.disabled||(d?e.currentTarget.style.background="#F0F4F8":e.currentTarget.style.background="#B8921F")},onMouseLeave:e=>{e.currentTarget.disabled||(d?e.currentTarget.style.background="#F8FAFC":e.currentTarget.style.background="#C9A227")},children:g?"...":d?"Takibi Bırak":"Takip Et"}),(0,n.jsx)(l,{isOpen:f,onClose:()=>p(!1),onConfirm:k,targetName:r,targetHandle:i,cost:5e4,currentBalance:h})]}):null}},7489:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(5893),o=r(1664),a=r.n(o),l=r(7294);function i(){let[e,t]=(0,l.useState)("");return(0,n.jsx)("header",{style:{position:"sticky",top:0,zIndex:50,background:"#fff",borderBottom:"1px solid var(--border)"},children:(0,n.jsxs)("div",{className:"container",style:{display:"flex",alignItems:"center",gap:16,height:64},children:[(0,n.jsx)(a(),{href:"/",children:(0,n.jsx)("strong",{style:{fontSize:20},children:"NOP Intelligence Layer"})}),(0,n.jsx)("form",{onSubmit:t=>{t.preventDefault(),window.location.href="/explore?q="+encodeURIComponent(e)},style:{flex:1,display:"flex",gap:8},children:(0,n.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Ara (⌘K) — #AI, #Blockchain, yazar…",style:{flex:1,height:40,padding:"0 12px",border:"1px solid var(--border)",borderRadius:10,outlineColor:"var(--blue)"}})}),(0,n.jsx)(a(),{href:"/new",className:"btn btn-blue",children:"Contribute"}),(0,n.jsx)(a(),{href:"/notifications",className:"btn","aria-label":"Notifications",children:"\uD83D\uDD14"}),(0,n.jsx)("button",{className:"btn",title:"Wallet (UI)",children:"0x…C694"}),(0,n.jsx)(a(),{href:"/profile/me",className:"btn","aria-label":"Profile",children:"\uD83D\uDC64"})]})})}},6903:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(5893),o=r(1664),a=r.n(o);function l(e){let{post:t}=e;return(0,n.jsxs)("article",{className:"card",style:{padding:16},children:[(0,n.jsxs)("header",{style:{marginBottom:8},children:[(0,n.jsx)(a(),{href:"/contribution/".concat(t.id),style:{fontSize:20,fontWeight:700},children:t.title}),(0,n.jsxs)("div",{style:{fontSize:14,color:"var(--muted)",marginTop:6},children:["@",t.user," \xb7 ",t.time," \xb7 ",t.tags.map(e=>(0,n.jsxs)(a(),{href:"/explore?tag=".concat(encodeURIComponent(e)),className:"badge",children:["#",e]},e))]})]}),t.image&&(0,n.jsx)("div",{style:{margin:"10px 0",overflow:"hidden",borderRadius:10,border:"1px solid var(--border)"},children:(0,n.jsx)("img",{src:t.image,alt:"",style:{width:"100%",display:"block",aspectRatio:"16/9",objectFit:"cover"}})}),(0,n.jsx)("p",{style:{margin:"8px 0 12px 0"},children:t.summary}),(0,n.jsx)("div",{className:"scorebar",title:"Knowledge Score: ".concat(t.score),children:(0,n.jsx)("span",{style:{width:"".concat(t.score,"%")}})}),(0,n.jsxs)("footer",{style:{display:"flex",gap:12,marginTop:12,fontSize:14},children:[(0,n.jsxs)("button",{className:"btn",title:"Like",children:["❤️ ",t.likes]}),(0,n.jsxs)("button",{className:"btn",title:"Comment",children:["\uD83D\uDCAC ",t.comments]}),(0,n.jsx)("button",{className:"btn",title:"Save",children:"\uD83D\uDD16 Save"}),(0,n.jsx)("button",{className:"btn",title:"Share",children:"↗︎ Share"})]})]})}}}]);